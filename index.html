<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prompt Template Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#3B82F6",
              secondary: "#6B7280",
            },
          },
        },
      };
    </script>
    <style>
      .prompt-text {
        line-height: 1.5;
        max-height: 4.5em; /* 3 lines */
        overflow: hidden;
        transition: max-height 0.3s ease;
      }
      
      .prompt-text.expanded {
        max-height: none;
      }
      
      .show-more-btn {
        color: #3B82F6;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        user-select: none;
      }
      
      .show-more-btn:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-2">
          üìù Prompt Template Manager
        </h1>
        <p class="text-gray-600">
          Create and manage your prompt templates with dynamic placeholders
        </p>
      </div>

      <!-- Add New Prompt Section -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">
          Add New Prompt Template
        </h2>
        <div class="space-y-4">
          <div>
            <label
              for="promptTemplate"
              class="block text-sm font-medium text-gray-700 mb-2"
            >
              Prompt Template
            </label>
            <textarea
              id="promptTemplate"
              rows="4"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none"
              placeholder="Enter your prompt template here...&#10;Use {today} for current date&#10;Use {input} for user input&#10;Example: Dear {input}, your meeting is scheduled for {today}."
            ></textarea>
          </div>
          <div class="flex flex-col sm:flex-row gap-3">
            <button
              id="addPromptBtn"
              class="bg-primary hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-md transition duration-200 flex-1"
            >
              Add Prompt Template
            </button>
            <button
              id="clearBtn"
              class="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-6 rounded-md transition duration-200"
            >
              Clear
            </button>
          </div>
        </div>
      </div>

      <!-- Prompts List Section -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-semibold text-gray-800">Saved Prompts</h2>
          <div class="flex gap-2">
            <button
              id="exportBtn"
              class="bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-md transition duration-200"
            >
              Export JSON
            </button>
            <button
              id="importBtn"
              class="bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium py-2 px-4 rounded-md transition duration-200"
            >
              Import JSON
            </button>
            <input type="file" id="importFile" accept=".json" class="hidden" />
          </div>
        </div>

        <div id="promptsList" class="space-y-4">
          <!-- Prompts will be dynamically added here -->
        </div>

        <div id="emptyState" class="text-center py-12 text-gray-500">
          <div class="text-6xl mb-4">üìù</div>
          <p class="text-lg">No prompt templates yet</p>
          <p class="text-sm">
            Add your first prompt template above to get started
          </p>
        </div>
      </div>
    </div>

    <!-- Input Modal -->
    <div
      id="inputModal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4"
    >
      <div
        class="bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto"
      >
        <div class="p-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">
            Enter Input Values
          </h3>
          <div id="inputFields" class="space-y-4 mb-6">
            <!-- Input fields will be dynamically added here -->
          </div>
          <div class="flex gap-3">
            <button
              id="completeCopyBtn"
              class="bg-primary hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md transition duration-200 flex-1"
            >
              Complete & Copy
            </button>
            <button
              id="cancelBtn"
              class="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-md transition duration-200"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Success Toast -->
    <div
      id="successToast"
      class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-md shadow-lg transform translate-x-full transition-transform duration-300 z-50"
    >
      <div class="flex items-center gap-2">
        <span>‚úÖ</span>
        <span id="toastMessage">Copied to clipboard!</span>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
